# src/OMakefile

.PHONY: all clean

MENHIR_ENABLED = true

OCAMLPACKS[] =
	core
	ppx_deriving.show
	llvm
	llvm.analysis
	llvm.executionengine

FILES[] =
	ast
	lexer
	parser
	eval
	codegen
	llvm_eval
	main

LIB = target
PROGRAM = main

.DEFAULT: $(OCamlProgram $(PROGRAM), $(FILES))

OCamlLibrary($(LIB), $(FILES))

clean:
	rm -f *~ *.opt *.cmi *.cmx *.o *.omc *.cma *.cmxa $(PROGRAM) *.a
